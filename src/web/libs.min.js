
const IS_MOBILE = ('ontouchstart' in document.documentElement);

// Slideout.js

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Slideout=t()}}(function(){var t,e,n;return function i(t,e,n){function o(r,a){if(!e[r]){if(!t[r]){var u=typeof require=="function"&&require;if(!a&&u)return u(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var f=e[r]={exports:{}};t[r][0].call(f.exports,function(e){var n=t[r][1][e];return o(n?n:e)},f,f.exports,i,t,e,n)}return e[r].exports}var s=typeof require=="function"&&require;for(var r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,n){"use strict";var i=t("decouple");var o=t("emitter");var s;var r=false;var a=window.document;var u=a.documentElement;var l=window.navigator.msPointerEnabled;var f={start:l?"MSPointerDown":"touchstart",move:l?"MSPointerMove":"touchmove",end:l?"MSPointerUp":"touchend"};var h=function v(){var t=/^(Webkit|Khtml|Moz|ms|O)(?=[A-Z])/;var e=a.getElementsByTagName("script")[0].style;for(var n in e){if(t.test(n)){return"-"+n.match(t)[0].toLowerCase()+"-"}}if("WebkitOpacity"in e){return"-webkit-"}if("KhtmlOpacity"in e){return"-khtml-"}return""}();function c(t,e){for(var n in e){if(e[n]){t[n]=e[n]}}return t}function p(t,e){t.prototype=c(t.prototype||{},e.prototype)}function d(t){while(t.parentNode){if(t.getAttribute("data-slideout-ignore")!==null){return t}t=t.parentNode}return null}function _(t){t=t||{};this._startOffsetX=0;this._currentOffsetX=0;this._opening=false;this._moved=false;this._opened=false;this._preventOpen=false;this._touch=t.touch===undefined?true:t.touch&&true;this._side=t.side||"left";this.panel=t.panel;this.menu=t.menu;if(!this.panel.classList.contains("slideout-panel")){this.panel.classList.add("slideout-panel")}if(!this.panel.classList.contains("slideout-panel-"+this._side)){this.panel.classList.add("slideout-panel-"+this._side)}if(!this.menu.classList.contains("slideout-menu")){this.menu.classList.add("slideout-menu")}if(!this.menu.classList.contains("slideout-menu-"+this._side)){this.menu.classList.add("slideout-menu-"+this._side)}this._fx=t.fx||"ease";this._duration=parseInt(t.duration,10)||300;this._tolerance=parseInt(t.tolerance,10)||70;this._padding=this._translateTo=parseInt(t.padding,10)||256;this._orientation=this._side==="right"?-1:1;this._translateTo*=this._orientation;if(this._touch){this._initTouchEvents()}}p(_,o);_.prototype.open=function(){var t=this;this.emit("beforeopen");if(!u.classList.contains("slideout-open")){u.classList.add("slideout-open")}this._setTransition();this._translateXTo(this._translateTo);this._opened=true;setTimeout(function(){t.panel.style.transition=t.panel.style["-webkit-transition"]="";t.emit("open")},this._duration+50);return this};_.prototype.close=function(){var t=this;if(!this.isOpen()&&!this._opening){return this}this.emit("beforeclose");this._setTransition();this._translateXTo(0);this._opened=false;setTimeout(function(){u.classList.remove("slideout-open");t.panel.style.transition=t.panel.style["-webkit-transition"]=t.panel.style[h+"transform"]=t.panel.style.transform="";t.emit("close")},this._duration+50);return this};_.prototype.toggle=function(){return this.isOpen()?this.close():this.open()};_.prototype.isOpen=function(){return this._opened};_.prototype._translateXTo=function(t){this._currentOffsetX=t;this.panel.style[h+"transform"]=this.panel.style.transform="translateX("+t+"px)";return this};_.prototype._setTransition=function(){this.panel.style[h+"transition"]=this.panel.style.transition=h+"transform "+this._duration+"ms "+this._fx;return this};_.prototype._initTouchEvents=function(){var t=this;this._onScrollFn=i(a,"scroll",function(){if(!t._moved){clearTimeout(s);r=true;s=setTimeout(function(){r=false},250)}});this._preventMove=function(e){if(t._moved){e.preventDefault()}};a.addEventListener(f.move,this._preventMove);this._resetTouchFn=function(e){if(typeof e.touches==="undefined"){return}t._moved=false;t._opening=false;t._startOffsetX=e.touches[0].pageX;t._preventOpen=!t._touch||!t.isOpen()&&t.menu.clientWidth!==0};this.panel.addEventListener(f.start,this._resetTouchFn);this._onTouchCancelFn=function(){t._moved=false;t._opening=false};this.panel.addEventListener("touchcancel",this._onTouchCancelFn);this._onTouchEndFn=function(){if(t._moved){t.emit("translateend");t._opening&&Math.abs(t._currentOffsetX)>t._tolerance?t.open():t.close()}t._moved=false};this.panel.addEventListener(f.end,this._onTouchEndFn);this._onTouchMoveFn=function(e){if(r||t._preventOpen||typeof e.touches==="undefined"||d(e.target)){return}var n=e.touches[0].clientX-t._startOffsetX;var i=t._currentOffsetX=n;if(Math.abs(i)>t._padding){return}if(Math.abs(n)>20){t._opening=true;var o=n*t._orientation;if(t._opened&&o>0||!t._opened&&o<0){return}if(!t._moved){t.emit("translatestart")}if(o<=0){i=n+t._padding*t._orientation;t._opening=false}if(!(t._moved&&u.classList.contains("slideout-open"))){u.classList.add("slideout-open")}t.panel.style[h+"transform"]=t.panel.style.transform="translateX("+i+"px)";t.emit("translate",i);t._moved=true}};this.panel.addEventListener(f.move,this._onTouchMoveFn);return this};_.prototype.enableTouch=function(){this._touch=true;return this};_.prototype.disableTouch=function(){this._touch=false;return this};_.prototype.destroy=function(){this.close();a.removeEventListener(f.move,this._preventMove);this.panel.removeEventListener(f.start,this._resetTouchFn);this.panel.removeEventListener("touchcancel",this._onTouchCancelFn);this.panel.removeEventListener(f.end,this._onTouchEndFn);this.panel.removeEventListener(f.move,this._onTouchMoveFn);a.removeEventListener("scroll",this._onScrollFn);this.open=this.close=function(){};return this};e.exports=_},{decouple:2,emitter:3}],2:[function(t,e,n){"use strict";var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t,e,n){var o,s=false;function r(t){o=t;a()}function a(){if(!s){i(u);s=true}}function u(){n.call(t,o);s=false}t.addEventListener(e,r,false);return r}e.exports=o},{}],3:[function(t,e,n){"use strict";var i=function(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}};n.__esModule=true;var o=function(){function t(){i(this,t)}t.prototype.on=function e(t,n){this._eventCollection=this._eventCollection||{};this._eventCollection[t]=this._eventCollection[t]||[];this._eventCollection[t].push(n);return this};t.prototype.once=function n(t,e){var n=this;function i(){n.off(t,i);e.apply(this,arguments)}i.listener=e;this.on(t,i);return this};t.prototype.off=function o(t,e){var n=undefined;if(!this._eventCollection||!(n=this._eventCollection[t])){return this}n.forEach(function(t,i){if(t===e||t.listener===e){n.splice(i,1)}});if(n.length===0){delete this._eventCollection[t]}return this};t.prototype.emit=function s(t){var e=this;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++){i[o-1]=arguments[o]}var s=undefined;if(!this._eventCollection||!(s=this._eventCollection[t])){return this}s=s.slice(0);s.forEach(function(t){return t.apply(e,i)});return this};return t}();n["default"]=o;e.exports=n["default"]},{}]},{},[1])(1)});

// CodeMirror ScrollPastEnd addon

'use strict';(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function e(a,b){c.changeEnd(b).line==a.lastLine()&&d(a)}function d(a){var b="";if(1<a.lineCount()){b=a.display.scroller.clientHeight-30;var c=a.getLineHandle(a.lastLine()).height;b=b-c+"px"}a.state.scrollPastEndPadding!=b&&(a.state.scrollPastEndPadding=b,a.display.lineSpace.parentNode.style.paddingBottom=b,a.off("refresh",d),a.setSize(),a.on("refresh",d))}c.defineOption("scrollPastEnd",!1,function(a,b,f){f&&f!=c.Init&&(a.off("change",e),a.off("refresh",d),a.display.lineSpace.parentNode.style.paddingBottom="",a.state.scrollPastEndPadding=null);b&&(a.on("change",e),a.on("refresh",d),d(a))})});

// CodeMirror Lint addon
const lme={over:(IS_MOBILE)?"touchstart":"mouseover",out:(IS_MOBILE)?"touchend":"mouseout"}

'use strict';(function(f){"object"==typeof exports&&"object"==typeof module?f(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],f):f(CodeMirror)})(function(f){function v(a,b,d){function e(a){if(!c.parentNode)return (IS_MOBILE)?null:f.off(document,"mousemove",e);c.style.top=Math.max(0,a.clientY-c.offsetHeight-5)+"px";c.style.left=a.clientX+5+"px"}var c=document.createElement("div");c.className="CodeMirror-lint-tooltip cm-s-"+a.options.theme;c.appendChild(d.cloneNode(!0));
a.state.lint.options.selfContain?a.getWrapperElement().appendChild(c):document.body.appendChild(c);if(!IS_MOBILE)f.on(document,"mousemove",e);e(b);null!=c.style.opacity&&(c.style.opacity=1);return c}function w(a){a.parentNode&&(null==a.style.opacity&&a.parentNode&&a.parentNode.removeChild(a),a.style.opacity=0,setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a)},600))}function q(a,b,d,e){function c(){f.off(e,lme.out,c);g&&(w(g),g=null)}var g=v(a,b,d),m=setInterval(function(){if(g)for(var a=e;;a=a.parentNode){a&&
11==a.nodeType&&(a=a.host);if(a==document.body)return;if(!a){c();break}}if(!g)return clearInterval(m)},400);f.on(e,lme.out,c);}function x(a,b,d){this.marked=[];this.options=b;this.timeout=null;this.hasGutter=d;this.onMouseOver=function(b){var c=b.target||b.srcElement;if(/\bCodeMirror-lint-mark-/.test(c.className)){c=c.getBoundingClientRect();var d=a.findMarksAt(a.coordsChar({left:(c.left+c.right)/2,top:(c.top+c.bottom)/2},"client"));c=[];for(var e=0;e<d.length;++e){var h=d[e].__annotation;h&&c.push(h)}if(c.length){d=
b.target||b.srcElement;e=document.createDocumentFragment();for(h=0;h<c.length;h++)e.appendChild(r(c[h]));q(a,b,e,d)}}};this.waitingFor=0}function t(a){var b=a.state.lint;b.hasGutter&&a.clearGutter("CodeMirror-lint-markers");for(a=0;a<b.marked.length;++a)b.marked[a].clear();b.marked.length=0}function y(a,b,d,e,c){var g=document.createElement("div"),m=g;g.className="CodeMirror-lint-marker-"+d;e&&(m=g.appendChild(document.createElement("div")),m.className="CodeMirror-lint-marker-multiple");if(0!=c){f.on(m,
lme.over,function(c){q(a,c,b,m)});}return g}function r(a){var b=a.severity;b||(b="error");var d=document.createElement("div");d.className="CodeMirror-lint-message-"+b;"undefined"!=typeof a.messageHTML?d.innerHTML=a.messageHTML:d.appendChild(document.createTextNode(a.message));return d}function z(a,b,d){function e(){g=-1;a.off("change",e)}var c=a.state.lint,g=++c.waitingFor;a.on("change",e);b(a.getValue(),function(b,d){a.off("change",e);c.waitingFor==g&&(d&&b instanceof f&&(b=d),a.operation(function(){n(a,
b)}))},d,a)}function l(a){var b=a.state.lint.options,d=b.options||b,e=b.getAnnotations||a.getHelper(f.Pos(0,0),"lint");if(e)if(b.async||e.async)z(a,e,d);else{var c=e(a.getValue(),d,a);c&&(c.then?c.then(function(b){a.operation(function(){n(a,b)})}):a.operation(function(){n(a,c)}))}}function n(a,b){t(a);for(var d=a.state.lint,e=d.options,c=[],g=0;g<b.length;++g){var f=b[g],h=f.from.line;(c[h]||(c[h]=[])).push(f)}for(g=0;g<c.length;++g)if(f=c[g]){h=null;for(var n=d.hasGutter&&document.createDocumentFragment(),
l=0;l<f.length;++l){var k=f[l],p=k.severity;p||(p="error");"error"!=h&&(h=p);e.formatAnnotation&&(k=e.formatAnnotation(k));d.hasGutter&&n.appendChild(r(k));k.to&&d.marked.push(a.markText(k.from,k.to,{className:"CodeMirror-lint-mark-"+p,__annotation:k}))}d.hasGutter&&a.setGutterMarker(g,"CodeMirror-lint-markers",y(a,n,h,1<f.length,d.options.tooltips))}if(e.onUpdateLinting)e.onUpdateLinting(b,c,a)}function u(a){var b=a.state.lint;b&&(clearTimeout(b.timeout),b.timeout=setTimeout(function(){l(a)},b.options.delay||
500))}f.defineOption("lint",!1,function(a,b,d){d&&d!=f.Init&&(t(a),!1!==a.state.lint.options.lintOnChange&&a.off("change",u),f.off(a.getWrapperElement(),lme.over,a.state.lint.onMouseOver),clearTimeout(a.state.lint.timeout),delete a.state.lint);if(b){var e=a.getOption("gutters");d=!1;for(var c=0;c<e.length;++c)"CodeMirror-lint-markers"==e[c]&&(d=!0);e=a.state;b instanceof Function?b={getAnnotations:b}:b&&!0!==b||(b={});d=e.lint=new x(a,b,d);if(!1!==d.options.lintOnChange)a.on("change",u);if(0!=
d.options.tooltips&&"gutter"!=d.options.tooltips){f.on(a.getWrapperElement(),lme.over,d.onMouseOver);}l(a)}});f.defineExtension("performLint",function(){this.state.lint&&l(this)})});

// CodeMirror Simple Mode addon

'use strict';(function(l){"object"==typeof exports&&"object"==typeof module?l(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){function r(b,e){if(!b.hasOwnProperty(e))throw Error("Undefined state "+e+" in simple mode");}function q(b,e){if(!b)return/(?:)/;var d="";b instanceof RegExp?(b.ignoreCase&&(d="i"),b=b.source):b=String(b);return new RegExp((!1===e?"":"^")+"(?:"+b+")",d)}function u(b){if(!b)return null;if(b.apply)return b;
if("string"==typeof b)return b.replace(/\./g," ");for(var e=[],d=0;d<b.length;d++)e.push(b[d]&&b[d].replace(/\./g," "));return e}function v(b,e){(b.next||b.push)&&r(e,b.next||b.push);this.regex=q(b.regex);this.token=u(b.token);this.data=b}function w(b,e){return function(d,a){if(a.pending){var c=a.pending.shift();0==a.pending.length&&(a.pending=null);d.pos+=c.text.length;return c.token}if(a.local){if(a.local.end&&d.match(a.local.end))c=a.local.endToken||null,a.local=a.localState=null;else{c=a.local.mode.token(d,
a.localState);var g;a.local.endScan&&(g=a.local.endScan.exec(d.current()))&&(d.pos=d.start+g.index)}return c}for(var h=b[a.state],f=0;f<h.length;f++)if(c=h[f],g=(!c.data.sol||d.sol())&&d.match(c.regex)){c.data.next?a.state=c.data.next:c.data.push?((a.stack||(a.stack=[])).push(a.state),a.state=c.data.push):c.data.pop&&a.stack&&a.stack.length&&(a.state=a.stack.pop());if(c.data.mode){h=void 0;var m=e;f=a;var k=c.data.mode,n=c.token;if(k.persistent)for(var p=f.persistentStates;p&&!h;p=p.next)if(k.spec?
t(k.spec,p.spec):k.mode==p.mode)h=p;m=h?h.mode:k.mode||l.getMode(m,k.spec);p=h?h.state:l.startState(m);k.persistent&&!h&&(f.persistentStates={mode:m,spec:k.spec,state:p,next:f.persistentStates});f.localState=p;f.local={mode:m,end:k.end&&q(k.end),endScan:k.end&&!1!==k.forceEnd&&q(k.end,!1),endToken:n&&n.join?n[n.length-1]:n}}c.data.indent&&a.indent.push(d.indentation()+e.indentUnit);c.data.dedent&&a.indent.pop();(h=c.token)&&h.apply&&(h=h(g));if(2<g.length&&c.token&&"string"!=typeof c.token){a.pending=
[];for(f=2;f<g.length;f++)g[f]&&a.pending.push({text:g[f],token:c.token[f-1]});d.backUp(g[0].length-(g[1]?g[1].length:0));return h[0]}return h&&h.join?h[0]:h}d.next();return null}}function t(b,e){if(b===e)return!0;if(!b||"object"!=typeof b||!e||"object"!=typeof e)return!1;var d=0,a;for(a in b)if(b.hasOwnProperty(a)){if(!e.hasOwnProperty(a)||!t(b[a],e[a]))return!1;d++}for(a in e)e.hasOwnProperty(a)&&d--;return 0==d}function x(b,e){return function(d,a,c){if(d.local&&d.local.mode.indent)return d.local.mode.indent(d.localState,
a,c);if(!(c=null==d.indent||d.local)&&(c=e.dontIndentStates)){a:{c=e.dontIndentStates;for(var g=0;g<c.length;g++)if(c[g]===d.state){c=!0;break a}c=void 0}c=-1<c}if(c)return l.Pass;c=d.indent.length-1;g=b[d.state];a:for(;;){for(var h=0;h<g.length;h++){var f=g[h];if(f.data.dedent&&!1!==f.data.dedentIfLineStart){var m=f.regex.exec(a);if(m&&m[0]){c--;if(f.next||f.push)g=b[f.next||f.push];a=a.slice(m[0].length);continue a}}}break}return 0>c?0:d.indent[c]}}l.defineSimpleMode=function(b,e){l.defineMode(b,
function(b){return l.simpleMode(b,e)})};l.simpleMode=function(b,e){r(e,"start");var d={},a=e.meta||{},c=!1,g;for(g in e)if(g!=a&&e.hasOwnProperty(g))for(var h=d[g]=[],f=e[g],m=0;m<f.length;m++){var k=f[m];h.push(new v(k,e));if(k.indent||k.dedent)c=!0}b={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:c?[]:null}},copyState:function(a){var b={state:a.state,pending:a.pending,local:a.local,localState:null,indent:a.indent&&a.indent.slice(0)};a.localState&&(b.localState=
l.copyState(a.local.mode,a.localState));a.stack&&(b.stack=a.stack.slice(0));for(var c=a.persistentStates;c;c=c.next)b.persistentStates={mode:c.mode,spec:c.spec,state:c.state==a.localState?b.localState:l.copyState(c.mode,c.state),next:b.persistentStates};return b},token:w(d,b),innerMode:function(a){return a.local&&{mode:a.local.mode,state:a.localState}},indent:x(d,a)};if(a)for(var n in a)a.hasOwnProperty(n)&&(b[n]=a[n]);return b}});

// Example from https://github.com/codemirror/CodeMirror/blob/ac9e655bc02f10c6af511f923895a27ffe1957b6/demo/simplemode.html

CodeMirror.defineSimpleMode("simplemode", {
    // The start state contains the rules that are intially used
    start: [
      // The regex matches the token, the token property contains the type
      { regex: /"(?:[^\\]|\\.)*?(?:"|$)/, token: "string" },
      // You can match multiple tokens at once. Note that the captured
      // groups must span the whole string in this case
      { regex: /(function)(\s+)([a-z$][\w$]*)/,
       token: ["keyword", null, "variable-2"] },
      // Rules are matched in the order in which they appear, so there is
      // no ambiguity between this one and the one above
      { regex: /(?:function|var|return|if|for|while|else|do|this)\b/,
       token: "keyword" },
      { regex: /true|false|null|undefined/, token: "atom" },
      { regex: /0x[a-f\d]+|[-+]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?/i,
       token: "number" },
      { regex: /\/\/.*/, token: "comment" },
      { regex: /\/(?:[^\\]|\\.)*?\//, token: "variable-3" },
      // A next property will cause the mode to move to a different state
      { regex: /\/\*/, token: "comment", next: "comment" },
      { regex: /[-+\/*=<>!]+/, token: "operator" },
      // indent and dedent properties guide autoindentation
      { regex: /[\{\[\(]/, indent: true },
      { regex: /[\}\]\)]/, dedent: true },
      { regex: /[a-z$][\w$]*/, token: "variable" },
      // You can embed other modes with the mode property. This rule
      // causes all code between << and >> to be highlighted with the XML
      // mode.
      { regex: /<</, token: "meta", mode: {spec: "xml", end: />>/} }
    ],
    // The multi-line comment state.
    comment: [
      {regex: /.*?\*\//, token: "comment", next: "start"},
      {regex: /.*/, token: "comment"}
    ],
    // The meta property contains global information about the mode. It
    // can contain properties like lineComment, which are supported by
    // all modes, and also directives like dontIndentStates, which are
    // specific to simple modes.
    meta: {
      dontIndentStates: ["comment"],
      lineComment: "//"
    }
});

function duckLint(text, options) {
    
    const results = [];

    const exampleError = {
        message: "moe moe kyun",
        severity: "error", // or "error"
        from: CodeMirror.Pos(0 /* line index */, 0 /* char index */),
        to: CodeMirror.Pos(0, 1),
    };

    results.push(exampleError);

    return results;
}

(function(mod) {
    if (typeof exports == "object" && typeof module == "object") // CommonJS
        mod(require("../../lib/codemirror"));
    else if (typeof define == "function" && define.amd) // AMD
        define(["../../lib/codemirror"], mod);
    else // Plain browser env
        mod(CodeMirror);
})(function(CodeMirror) {
    "use strict";

    CodeMirror.registerHelper("lint", "simplemode", duckLint);
});