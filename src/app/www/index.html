<!DOCTYPE html>
<html>

    <head>
        <title>Hello World!</title>
        <meta charset="utf-8">
        <meta http-equiv="cleartype" content="on">
        <meta name="MobileOptimized" content="320">
        <meta name="HandheldFriendly" content="True">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
        <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
        <!-- <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap:; style-src 'self' 'unsafe-inline'; media-src *" /> -->
        <script type="text/javascript" src="js/codemirror.min.js"></script>
        <script type="text/javascript" src="js/libs.min.js"></script>
        <script type="text/javascript" src="js/functions.js"></script>
        <link rel="stylesheet" type="text/css" href="css/style.css"/>
    </head>

    <body>
        <input id="upload-input" type="file" hidden />

        <span id="toast"></span>
        
        <nav id="menu" class="menu slideout-menu slideout-menu-left">
            <header class="menu-header">
                <span class="menu-header-title">Menu</span>
            </header>

            <section class="menu-section">
                <h3 class="menu-section-title">Actions</h3>
                <ul class="menu-section-list" onclick="slideout.close();">
                    <li><a onclick="openFilenameInput()">Save</a></li>
                    <li><a onclick="runScript()">Run</a></li>
                    <li><a onclick="stopScript()">Stop</a></li>
                    <li><a onclick="uploadScript()">Upload</a></li>
                    <li><a onclick="loadScriptList()">Open</a></li>
                </ul>
            </section>

            <section class="menu-section">
                <h3 class="menu-section-title">Editor</h3>
                <ul class="menu-section-list" onclick="slideout.close();">
                    <li><a id="theme-toggle" class="toggle toggle-on" onclick="toggleTheme()">Dark Mode</a></li>
                </ul>
            </section>

            <section class="menu-section">
                <h3 class="menu-section-title">General</h3>
                <ul class="menu-section-list" onclick="slideout.close();">
                    <li><a id="notifications-toggle" class="toggle toggle-on" onclick="toast.toggle()">Notifications</a></li>
                </ul>
            </section>

            <section class="menu-section">
                <h3 class="menu-section-title">Communication</h3>
                <ul class="menu-section-list" onclick="slideout.close();">
                    <li><a id="bluetooth-toggle" class="toggle toggle-off" onclick="toggleBluetooth()">Bluetooth</a></li>
                    <li><a id="wifi-toggle" class="toggle toggle-off" onclick="toggleWiFi()">Wi-Fi</a></li>
                </ul>
            </section>
        </nav>

        <main id="panel" class="slideout-panel slideout-panel-left">
            <div class="flex-container flex-row justify-space-between">
                <span id="sidemenu-btn"></span>
                <span id="logo" class="logo">Quack</span>
                <span id="play-btn" onclick="runScript()"></span>
            </div>

            <div id="options-menu">File name: 
                <span id="save-container"><input id="filename-save"></input> <button class="btn" onclick="confirmSave()">Go</button></span>
                <span id="open-container"><select id="filename-open"></select> <button class="btn" onclick="openScript()">Go</button></span>
            </div>

            <code id="filename">Temporary script</code><span id="is-saved"></span>
            
            <textarea id="editor" hidden></textarea>
        </main>
    </body>

    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript">
        app.initialize();
    </script>

</html>